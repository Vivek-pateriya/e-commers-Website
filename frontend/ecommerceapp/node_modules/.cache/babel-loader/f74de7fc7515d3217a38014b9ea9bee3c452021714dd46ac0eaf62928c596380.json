{"ast":null,"code":"var _jsxFileName = \"E:\\\\BalramSircode\\\\Project\\\\e-commers-Website\\\\frontend\\\\ecommerceapp\\\\src\\\\productView\\\\ProductList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Cart from './cart.png';\nimport ReactDOM from 'react-dom/client';\nimport '../index.css';\nimport Bill from '../customer/bill';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProductList(props) {\n  _s();\n  const [itemCount, setItemCount] = useState(0);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [productCategories, setProductCategories] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [clickedCheckout, setClickedCheckout] = useState(false);\n\n  // Fetch product and category lists on component mount\n  useEffect(() => {\n    axios.get('http://localhost:9679/product/showproduct').then(res => {\n      setProducts(res.data);\n    }).catch(err => {\n      alert(err.message);\n    });\n    axios.get('http://localhost:9679/productCat/show').then(res => {\n      setProductCategories(res.data);\n      // console.log(productCategories);\n    }).catch(err => {\n      alert(err.message);\n    });\n  }, []);\n  const handleBuyButton = productId => {\n    // Find the product to add\n    const product = products.find(item => item.pid === productId);\n    if (product) {\n      setSelectedItems(prevItems => [...prevItems, product]);\n      setItemCount(prevCount => prevCount + 1);\n    }\n  };\n  const handleCheckButton = () => {\n    // const root = ReactDOM.createRoot(document.getElementById('root'));\n    const {\n      data: customerId\n    } = props;\n    const billData = {\n      selectedItems,\n      customerId\n    };\n\n    // Assuming you have a Bill component to render\n    // root.render(<Bill data={billData} />);\n  };\n  const getCategoryName = categoryId => {\n    // Find the category object that matches the given categoryId\n    const category = productCategories.find(citem => citem.productId === categoryId);\n\n    // If category is found, return the category name, otherwise return 'Unknown'\n    return category ? category.productCatg : 'Unknown';\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"center\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\"Customer ID: \", props.data]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: Cart,\n          alt: \"Cart\",\n          height: 50,\n          width: 50\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"\",\n          children: [\"Items: \", itemCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCheckButton,\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mydiv\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vp-flexbox\",\n          children: products.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card\",\n            style: {\n              width: \"18rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:9679/product/getproductimage/${item.ppicname}`,\n              alt: item.pname,\n              width: 100,\n              height: 200,\n              className: \"card-img-top\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: item.pname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: item.pid\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group list-group-flush\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\",\n                children: [\"price: \", item.oprice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\",\n                children: [\"offer Price : \", item.oprice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\",\n                children: [\"Category: \", getCategoryName(item.pcatgid)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleBuyButton(item.pid),\n                children: \"Buy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this)]\n          }, item.pid, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ProductList, \"kiXLxKK4AiOqRa9bHyNPULnKh2I=\");\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","axios","Cart","ReactDOM","Bill","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductList","props","_s","itemCount","setItemCount","selectedItems","setSelectedItems","productCategories","setProductCategories","products","setProducts","clickedCheckout","setClickedCheckout","get","then","res","data","catch","err","alert","message","handleBuyButton","productId","product","find","item","pid","prevItems","prevCount","handleCheckButton","customerId","billData","getCategoryName","categoryId","category","citem","productCatg","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","height","width","htmlFor","type","onClick","className","map","class","style","ppicname","pname","oprice","pcatgid","_c","$RefreshReg$"],"sources":["E:/BalramSircode/Project/e-commers-Website/frontend/ecommerceapp/src/productView/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Cart from './cart.png';\r\nimport ReactDOM from 'react-dom/client';\r\nimport '../index.css';\r\nimport Bill from '../customer/bill';\r\nfunction ProductList(props) {\r\n  const [itemCount, setItemCount] = useState(0);\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [productCategories, setProductCategories] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [clickedCheckout, setClickedCheckout] = useState(false);\r\n\r\n  // Fetch product and category lists on component mount\r\n  useEffect(() => {\r\n    axios.get('http://localhost:9679/product/showproduct')\r\n      .then((res) => {\r\n        setProducts(res.data);\r\n      })\r\n      .catch(err => {\r\n        alert(err.message);\r\n      });\r\n\r\n    axios.get('http://localhost:9679/productCat/show')\r\n      .then((res) => {\r\n        setProductCategories(res.data);\r\n        // console.log(productCategories);\r\n\r\n      })\r\n      .catch(err => {\r\n        alert(err.message);\r\n      });\r\n  }, []);\r\n\r\n  const handleBuyButton = (productId) => {\r\n    // Find the product to add\r\n    const product = products.find(item => item.pid === productId);\r\n\r\n    if (product) {\r\n      setSelectedItems(prevItems => [...prevItems, product]);\r\n      setItemCount(prevCount => prevCount + 1);\r\n    }\r\n  };\r\n\r\n  const handleCheckButton = () => {\r\n    // const root = ReactDOM.createRoot(document.getElementById('root'));\r\n    const { data: customerId } = props;\r\n\r\n    const billData = {\r\n      selectedItems,\r\n      customerId\r\n    };\r\n\r\n    // Assuming you have a Bill component to render\r\n    // root.render(<Bill data={billData} />);\r\n  };\r\n\r\n  const getCategoryName = (categoryId) => {\r\n    // Find the category object that matches the given categoryId\r\n    const category = productCategories.find(citem => citem.productId === categoryId);\r\n\r\n    // If category is found, return the category name, otherwise return 'Unknown'\r\n    return category ? category.productCatg : 'Unknown';\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <center>\r\n        <h6>Customer ID: {props.data}</h6>\r\n        <div>\r\n          <img src={Cart} alt=\"Cart\" height={50} width={50} />\r\n          <label htmlFor=\"\">Items: {itemCount}</label>\r\n          <button type='button' onClick={handleCheckButton}>Checkout</button>\r\n        </div>\r\n        <div className='mydiv'>\r\n          {/* <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Id</th>\r\n                <th>Product Name</th>\r\n                <th>Price</th>\r\n                <th>Offer Price</th>\r\n                <th>Category Name</th>\r\n                <th>Photo</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {products.map((item) => (\r\n                <tr key={item.pid}>\r\n                  <td>{item.pid}</td>\r\n                  <td>{item.pname}</td>\r\n                  <td>{item.pprice}</td>\r\n                  <td>{item.oprice}</td>\r\n                  <td>{getCategoryName(item.pcatgid)}</td>\r\n                  <td>\r\n                    <img src={`http://localhost:9679/product/getproductimage/${item.ppicname}`} alt={item.pname} width={100} height={100} />\r\n                  </td>\r\n                  <td>\r\n                    <button type=\"button\" onClick={() => handleBuyButton(item.pid)}>Buy</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table> */}\r\n          <div className='vp-flexbox'>\r\n            {\r\n              products.map((item) => (\r\n                <div class=\"card\" style={{ width: \"18rem\" }} key={item.pid}>\r\n                  <img src={`http://localhost:9679/product/getproductimage/${item.ppicname}`} alt={item.pname} width={100} height={200} className=\"card-img-top\" />\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{item.pname}</h5>\r\n                    <p className=\"card-text\">{item.pid}</p>\r\n                  </div>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    <li className=\"list-group-item\">price: {item.oprice}</li>\r\n                    <li className=\"list-group-item\">offer Price : {item.oprice}</li>\r\n                    <li className=\"list-group-item\">Category: {getCategoryName(item.pcatgid)}</li>\r\n                  </ul>\r\n                  <div className=\"card-body\">\r\n                    <button type=\"button\" onClick={() => handleBuyButton(item.pid)}>Buy</button>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        </div>\r\n      </center>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}